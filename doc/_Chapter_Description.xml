<?xml version="1.0" encoding="UTF-8"?>

<!-- This is an automatically generated file. -->
<Chapter Label="Chapter_Description">
<Heading>Description</Heading>

<P/>
The group <Math>\mathrm{SL}_2(\mathbb{Z})</Math> is generated by <Math>\mathfrak{s}</Math> = <Code>[[0,1],[-1,0]]</Code> and <Math>\mathfrak{t}</Math> = <Code>[[1,1],[0,1]]</Code> (which satisfy the relations <Math>\mathfrak{s}^4 = (\mathfrak{st})^3 = \mathrm{id}</Math>).
Thus, any complex representation <Math>\rho</Math> of <Math>\mathrm{SL}_2(\mathbb{Z})</Math> on <Math>\mathbb{C}^n</Math> (where <Math>n \in \mathbb{Z}^+</Math> is called the <Emph>degree</Emph> of <Math>\rho</Math>) is determined by the <Math>n \times n</Math> matrices <Math>S = \rho(\mathfrak{s})</Math> and <Math>T = \rho(\mathfrak{t})</Math>.
<P/>
This package constructs irreducible representations of <Math>\mathrm{SL}_2(\mathbb{Z})</Math> which factor through <Math>\mathrm{SL}_2(\mathbb{Z}/\ell\mathbb{Z})</Math> for some <Math>\ell \in \mathbb{Z}^+</Math>; the smallest such <Math>\ell</Math> is called the <Emph>level</Emph> of the representation. One may equivalently say that the kernel of the representation is a congruence subgroup. It has been shown that any representation of <Math>\mathrm{SL}_2(\mathbb{Z})</Math> arising from a modular tensor category has this property <Cite Key="DLN15"/>.
<P/>
We therefore present representations in the form of a record <Code>rec(S, T, degree, level, name)</Code>, where the name follows the conventions of <Cite Key="NW76"/>.
<P/>
Note that our definition of <Math>\mathfrak{s}</Math> follows that of <Cite Key="Nobs1"/>; other authors prefer the inverse, i.e. <Math>\mathfrak{s}</Math> = <Code>[[0,-1],[1,0]]</Code> (under which convention the relations are <Math>\mathfrak{s}^4 = \mathrm{id}</Math>, <Math>(\mathfrak{s}\mathfrak{t})^3 = \mathfrak{s}^2</Math>). When working with that convention, one must invert the <Math>S</Math> matrices output by this package.
<P/>
Throughout, we denote by <Math>\mathbf{e}</Math> the map <Math>k \mapsto e^{2 \pi i k}</Math> (an isomorphism from <Math>\mathbb{Q}/\mathbb{Z}</Math> to the group of finite roots of unity in <Math>\mathbb{C}</Math>).
<P/>
<Section Label="Chapter_Description_Section_Construction">
<Heading>Construction</Heading>

<P/>
Any representation <Math>\rho</Math> of <Math>\mathrm{SL}_2(\mathbb{Z})</Math> can be decomposed into a direct sum of irreducible representations (irreps). Further, if <Math>\rho</Math> has finite level, each irrep can be factorized into a tensor product of irreps whose levels are powers of distinct primes (using the Chinese remainder theorem). Therefore, to characterize all finite-dimensional representations of <Math>\mathrm{SL}_2(\mathbb{Z})</Math> of finite level, it suffices to consider irreps of <Math>\mathrm{SL}_2(\mathbb{Z}/p^\lambda\mathbb{Z})</Math> for primes <Math>p</Math> and positive integers <Math>\lambda</Math>.
<P/>
<Subsection Label="Chapter_Description_Section_Construction_Subsection_Weil_representations">
<Heading>Weil representations</Heading>

<P/>
Such representations may be constructed using Weil representations as described in <Cite Key="Nobs1" Where="Section 1"/>.  We give a brief summary of the process here.  First, if <Math>M</Math> is any additive abelian group, a <Emph>quadratic form</Emph> on <Math>M</Math> is a map <Math>Q : M \to \mathbb{Q}/\mathbb{Z}</Math> such that <Math>Q(-x) = Q(x)</Math> for all <Math>x \in M</Math> and <Math>B(x,y) = Q(x+y) - Q(x) - Q(y)</Math> defines a <Math>\mathbb{Z}</Math>-bilinear map <Math>M \times M \to \mathbb{Q}/\mathbb{Z}</Math>.
<P/>
Now let <Math>p</Math> be a prime number and <Math>\lambda \in \mathbb{Z}^+</Math>.  Choose a <Math>\mathbb{Z}/p^\lambda\mathbb{Z}</Math>-module <Math>M</Math> and a quadratic form <Math>Q</Math> on <Math>M</Math> such that the pair <Math>(M,Q)</Math> is of one of the three types described in Section <Ref Sect="Chapter_Description_Section_Weil"/>.  Each such <Math>M</Math> is a ring, and has at most 2 cyclic factors as an additive group.  Those with 2 cyclic factors may be identified with a quotient of the quadratic integers, giving a norm on <Math>M</Math>.  Then the <Emph>quadratic module</Emph> <Math>(M,Q)</Math> gives rise to a representation of <Math>\mathrm{SL}_2(\mathbb{Z}/p^\lambda\mathbb{Z})</Math> on the vector space <Math>V = \mathbb{C}^M</Math> of complex-valued functions on <Math>M</Math>.  This representation is denoted <Math>W(M,Q)</Math>.
<P/>
We may construct subrepresentations <Math>W(M,Q,\chi)</Math> of <Math>W(M,Q)</Math> as follows.  Let
<Display>\operatorname{Aut}(M,Q) = \{ \varepsilon \in \operatorname{Aut}(M) \mid Q(\varepsilon x) = Q(x) \text{ for all } x \in M\}</Display>
and denote by <Math>\mathfrak{A} \leq \operatorname{Aut}(M,Q)</Math> the abelian subgroup defined in Section <Ref Sect="Chapter_Description_Section_Weil"/>.  Note that <Math>\mathfrak{A}</Math> has at most two cyclic factors, whose generators we denote by <Math>\alpha</Math> and <Math>\beta</Math>.  Let <Math>\chi \in \widehat{\mathfrak{A}}</Math> be a 1-dimensional representation (character) of <Math>\mathfrak{A}</Math>, and define
<Display>V_\chi = \{f \in V \mid f(\varepsilon x) = \chi(\varepsilon) f(x) \text{ for all } x \in M \text{ and } \varepsilon \in \mathfrak{A}\}~,</Display>
which is a <Math>SL_2(\mathbb{Z}/p^\lambda\mathbb{Z})</Math>-invariant subspace of <Math>V</Math>.  We then denote by <Math>W(M,Q,\chi)</Math> the subrepresentation of <Math>W(M,Q)</Math> on <Math>V_\chi</Math>.
<P/>
</Subsection>


<Subsection Label="Chapter_Description_Section_Construction_Subsection_Primitive_characters">
<Heading>Primitive characters</Heading>

<P/>
We will frequently refer to a character <Math>\chi</Math> as being <Emph>primitive</Emph>.  With the exception of a single family of modules of type <Math>R</Math> (the <Emph>extremal</Emph> case, for which see Section <Ref Sect="Chapter_Description_Section_Weil_Subsection_Type_R"/>) primitivity amounts to the following: there exists some <Math>\varepsilon \in \mathfrak{A}</Math> such that <Math>\chi(\varepsilon) \neq 1</Math> and <Math>\varepsilon</Math> fixes the submodule <Math>pM</Math> pointwise.  In the extremal case, <Math>\mathfrak{A} = \langle\alpha\rangle \times \langle-1\rangle</Math> (see Section <Ref Sect="Chapter_Description_Section_Weil_Subsection_Type_R"/> for an explicit definition of <Math>\alpha</Math>) and <Math>\chi</Math> is primitive if <Math>\chi(\alpha) = -1</Math>.
<P/>
Explicit descriptions of the primitive characters for each type are given in Section <Ref Sect="Chapter_Description_Section_Weil"/>.
<P/>
</Subsection>


<Subsection Label="Chapter_Description_Section_Construction_Subsection_Irrep_types">
<Heading>Irrep types</Heading>

<P/>
The prime-power irreps then fall into three cases.
<List>
    <Item>The overwhelming majority are of the form <Math>W(M,Q,\chi)</Math> for <Math>\chi</Math> primitive and <Math>\chi^2 \neq 1</Math>; we call these <Emph>standard</Emph>. This includes the primitive characters from the extremal case.</Item>
    <Item>A finite number, and a single infinite family arising from the extremal case (Section <Ref Sect="Chapter_Description_Section_Weil_Subsection_Type_R"/>), are instead constructed by using non-primitive characters or primitive characters <Math>\chi</Math> with <Math>\chi^2 = 1</Math>.  We call these <Emph>non-standard</Emph>.</Item>
    <Item>Finally, 18 <Emph>exceptional</Emph> irreps are constructed as tensor products of two irreps from the other two cases.</Item>
</List>
<P/>
All the finite-dimensional irreducible representations of <Math>\mathrm{SL}_2(\mathbb{Z})</Math> of finite level can now be constructed by taking tensor products of these prime-power irreps.  Note that, if two representations are defined by pairs <Code>[S1,T1]</Code> and <Code>[S2,T2]</Code>, then their tensor product may be calculated via the GAP command <Code>KroneckerProduct</Code>, namely as <Code>[KroneckerProduct(S1,S2),KroneckerProduct(T1,T2)]</Code>.
<P/>
</Subsection>


</Section>


<Section Label="Chapter_Description_Section_Weil">
<Heading>Weil representation types</Heading>

<P/>
<Subsection Label="Chapter_Description_Section_Weil_Subsection_Type_D">
<Heading>Type D</Heading>

<P/>
Let <Math>p</Math> be prime.  If <Math>p=2</Math> or <Math>p=3</Math>, let <Math>\lambda \geq 2</Math>; otherwise, let <Math>\lambda \geq 1</Math>.  Then the Weil representation arising from the quadratic module with <Math>M = \mathbb{Z}/p^\lambda\mathbb{Z} \oplus \mathbb{Z}/p^\lambda\mathbb{Z}</Math> and <Math>Q(x,y) = \frac{xy}{p^\lambda}</Math> is said to be of type <Math>D</Math> and denoted <Math>D(p,\lambda)</Math>.  Information on <Math>(M,Q)</Math> may be obtained via <Ref Func="SL2ModuleD"/>, and subrepresentations of <Math>D(p,\lambda)</Math> with level <Math>p^\lambda</Math> may be constructed via <Ref Func="SL2IrrepD"/>.
<P/>
Here we define
<Display>\mathfrak{A} \cong (\mathbb{Z}/p^\lambda\mathbb{Z})^\times</Display>
acting on <Math>M</Math> by <Math>a(x,y) = (a^{-1}x, ay)</Math>; see <Cite Key="NW76" Where="Section 2.1"/>. This group has the following structure. When <Math>p=2</Math> and <Math>\lambda \geq 3</Math>, it is generated by <Math>\alpha = 5</Math> (of order <Math>2^{\lambda-2}</Math>) and <Math>\beta = -1</Math>.
Otherwise, it is cyclic; in this case, we choose a generator <Math>\alpha</Math> and say <Math>\beta = 1</Math>.
<P/>
For type <Math>D</Math>, a non-trivial character of <Math>\mathfrak{A}</Math> is primitive if and only if it is injective on the cyclic subgroup of <Math>\mathfrak{A}</Math> of maximal <Math>p</Math>-power order.  This subgroup is trivial for <Math>\lambda = 1</Math>, generated by <Math>5</Math> in the case <Math>p=2</Math> and <Math>\lambda \geq 3</Math>, and generated by <Math>1+p</Math> in all other cases.
<P/>
</Subsection>


<Subsection Label="Chapter_Description_Section_Weil_Subsection_Type_N">
<Heading>Type N</Heading>

<P/>
Let <Math>p</Math> be prime and <Math>\lambda \geq 1</Math>. If <Math>p \neq 2</Math>, choose an integer <Math>u</Math> so that <Math>u \equiv 3</Math> mod 4 with <Math>-u</Math> a quadratic non-residue mod <Math>p</Math>; if <Math>p = 2</Math>, define <Math>u=3</Math>.  Then the Weil representation arising from the quadratic module with <Math>M = \mathbb{Z}/p^\lambda\mathbb{Z} \oplus \mathbb{Z}/p^\lambda\mathbb{Z}</Math> and <Math>Q(x,y) = \frac{x^2 +xy+\frac{1+u}{4}y^2}{p^\lambda}</Math> is said to be of type <Math>N</Math> and denoted <Math>N(p,\lambda)</Math>.  Information on <Math>(M,Q)</Math> may be obtained via <Ref Func="SL2ModuleN"/>, and subrepresentations of <Math>N(p,\lambda)</Math> with level <Math>p^\lambda</Math> may be constructed via <Ref Func="SL2IrrepN"/>.
<P/>
Here we define
<Display>\mathfrak{A} = \{\varepsilon \in M^\times \mid \operatorname{Nm}(\varepsilon) = 1 \}</Display>
acting on <Math>M</Math> by multiplication; see <Cite Key="NW76" Where="Section 2.2"/>. This group has the following structure. When <Math>\lambda \geq 2</Math>, it is generated by <Math>\alpha</Math> and <Math>\beta</Math>: for <Math>p=2</Math>, <Math>|\alpha| = 2^{\lambda-2}</Math> and <Math>|\beta| = 6</Math>, while for <Math>p \neq 2</Math>, <Math>|\alpha| = p^{\lambda-1}</Math> and <Math>|\beta| = p+1</Math>.  On the other hand, when <Math>\lambda = 1</Math>, <Math>\mathfrak{A}</Math> is cyclic; in this case, we choose a generator <Math>\beta</Math> with <Math>|\beta| = p+1</Math> and (for simplicity) say <Math>\alpha = 1</Math>.
<P/>
For type <Math>N</Math> with <Math>p=2</Math>, <Math>\lambda=2</Math>, a non-trivial character of <Math>\mathfrak{A}</Math> is primitive if and only if <Math>\chi(-1) = -1</Math>.  For all other type <Math>N</Math> cases, a character of <Math>\mathfrak{A}</Math> is primitive if and only if it is injective on the subgroup <Math>\langle\alpha\rangle \leq \mathfrak{A}</Math>.  Note that, when <Math>\lambda = 1</Math>, <Math>\alpha = 1</Math>, so all non-trivial characters are primitive.
<P/>
</Subsection>


<Subsection Label="Chapter_Description_Section_Weil_Subsection_Type_R">
<Heading>Type R</Heading>

<P/>
The structure of <Math>(M,Q)</Math> of type <Math>R</Math> depends upon three additional parameters: <Math>\sigma</Math>, <Math>r</Math>, and <Math>t</Math>. The relevant values thereof depend on whether <Math>p=2</Math>, as follows.
<P/>
First, if <Math>p</Math> is an odd prime, let <Math>\lambda \geq 2</Math>, <Math>\sigma \in \{1, \dots, \lambda\}</Math>, and <Math>r,t \in \{1,u\}</Math> with <Math>u</Math> a quadratic non-residue mod <Math>p</Math>.  Then define <Math>M = \mathbb{Z}/p^\lambda\mathbb{Z} \oplus \mathbb{Z}/p^{\lambda-\sigma}\mathbb{Z}</Math> and <Math>Q(x,y) = \frac{r(x^2 + p^\sigma t y^2)}{p^\lambda}</Math>.
<P/>
On the other hand, if <Math>p=2</Math>, let <Math>\lambda \geq 2</Math>, <Math>\sigma \in \{0, \dots, \lambda-2\}</Math> and <Math>r,t \in \{1,3,5,7\}</Math>. Then define <Math>M = \mathbb{Z}/2^{\lambda-1}\mathbb{Z} \oplus \mathbb{Z}/2^{\lambda-\sigma-1}\mathbb{Z}</Math> and <Math>Q(x,y) = \frac{r(x^2 + 2^\sigma t y^2)}{2^\lambda}</Math>.
<P/>
In either case, the resulting representation is said to be of type <Math>R</Math> and denoted <Math>R(p,\lambda,\sigma,r,t)</Math>.  Information on <Math>(M,Q)</Math> may be obtained via <Ref Func="SL2ModuleR"/>, and subrepresentations of <Math>R(p,\lambda,\sigma,r,t)</Math> with level <Math>p^\lambda</Math> may be constructed via <Ref Func="SL2IrrepR"/>.
<P/>
There are two special cases to consider. First, if <Math>\sigma = \lambda</Math> for <Math>p \neq 2</Math>, then the second factor of <Math>M</Math> is trivial (and hence <Math>t</Math> is irrelevant); this special case is handled by <Ref Func="SL2IrrepRUnary"/> (which is called by <Ref Func="SL2IrrepR"/> when appropriate).
<P/>
Second, if <Math>\sigma = \lambda - 2</Math> for <Math>p = 2</Math>, <Math>\lambda \geq 2</Math>, then the second factor of <Math>M</Math> is isomorphic to <Math>\mathbb{Z}/2\mathbb{Z}</Math>, and collapses in <Math>2M</Math>; we call this case the <Emph>extremal</Emph> family. Here, <Math>\operatorname{Aut}(M,Q)</Math> is itself abelian, so we let <Math>\mathfrak{A} = \operatorname{Aut}(M,Q)</Math>. This group has the following structure:
<List>
    <Item>For <Math>\lambda = 2</Math>, <Math>t=1</Math>, <Math>\mathfrak{A} = \langle \tau \rangle</Math> where <Math>\tau : (x,y) \mapsto (y,x)</Math>; a character <Math>\chi</Math> is primitive if <Math>\chi(\tau) = -1</Math>.</Item>
    <Item>For <Math>\lambda = 2</Math>, <Math>t = 3</Math>, <Math>\mathfrak{A}</Math> is trivial; there are no primitive characters.</Item>
    <Item>For <Math>\lambda = 3</Math> or <Math>4</Math>, <Math>\mathfrak{A} = \{\pm 1\}</Math>; there are no primitive characters.</Item>
    <Item>Finally, for <Math>\lambda \geq 5</Math>, <Math>\mathfrak{A} = \langle \alpha \rangle \times \langle -1 \rangle</Math> with <Math>\alpha \neq -1</Math> of order 2, and a character <Math>\chi \in \widehat{\mathfrak{A}}</Math> is primitive if <Math>\chi(\alpha) = -1</Math>. Note that, for this special case, the usual test for primitivity (described in Section <Ref Sect="Chapter_Description_Section_Construction"/>) fails, as there are no elements of <Math>\mathfrak{A}</Math> fixing <Math>2M</Math> pointwise.</Item>
</List>
<P/>
Outside of the above two special cases, we define
<Display>\mathfrak{A} = \{\varepsilon \in M^\times \mid \operatorname{Nm}(\varepsilon) = 1 \}</Display>
acting on <Math>M</Math> by multiplication; see <Cite Key="NW76" Where="Section 2.3 - 2.4"/>. The structure of <Math>\mathfrak{A}</Math> is as follows, and a character is primitive if it is injective on <Math>\langle\omega\rangle \leq \mathfrak{A}</Math>, with <Math>\omega = \alpha</Math> except when specified:
<List>
    <Item>Suppose <Math>p \neq 2</Math>, <Math>\lambda \geq 2</Math>, <Math>\sigma \in \{1, \dots, \lambda - 1\}</Math>. As a special case, if <Math>p=3</Math>, <Math>\lambda \geq 3</Math>, and <Math>\sigma=t=1</Math>, then <Math>\mathfrak{A} = \langle\alpha\rangle \times \langle\beta\rangle</Math> with <Math>\alpha</Math> of order <Math>3^{\lambda-2}</Math> and <Math>\beta</Math> of order 6.  Otherwise, <Math>\mathfrak{A} = \langle\alpha\rangle \times \langle-1\rangle</Math> with <Math>\alpha</Math> of order <Math>p^{\lambda - \sigma}</Math>.
    </Item>
    <Item>Suppose <Math>p=2</Math>, <Math>\lambda \geq 3</Math>, <Math>\sigma \in \{0, \dots, \lambda - 3\}</Math>. Then the structure of <Math>(M,Q)</Math>) depends on <Math>r,t</Math>, but only up to an equivalence class described in <Cite Key="Nobs1" Where="Satz 4"/>; we assume without loss of generality that <Math>r,t</Math> are minimal positive representatives thereunder. Then:
    <List>
        <Item>If <Math>\sigma = 0</Math>, <Math>r \in \{1,3\}</Math>, <Math>t=1</Math>, and <Math>\lambda = 3</Math>, then <Math>\mathfrak{A} = \langle\beta\rangle</Math> with <Math>\beta = (0,1)</Math> of order 4. Here <Math>\omega = -1 = \beta^2</Math>.</Item>
        <Item>If <Math>\sigma = 0</Math>, <Math>r \in \{1,3\}</Math>, <Math>t=1</Math>, and <Math>\lambda \geq 4</Math>, then <Math>\mathfrak{A} = \langle\alpha\rangle \times \langle\beta\rangle</Math> with <Math>\alpha = (1 \mod{4},4)</Math> of order <Math>2^{\lambda-3}</Math> and <Math>\beta = (0,1)</Math> of order 4.</Item>
        <Item>If <Math>\sigma = 0</Math>, <Math>r \in \{1,3\}</Math>, <Math>t=5</Math>, and <Math>\lambda = 3</Math>, then <Math>\mathfrak{A} = \langle\beta\rangle</Math> with <Math>\beta = (2,1)</Math> of order 4. Here <Math>\omega = -1</Math>.</Item>
        <Item>If <Math>\sigma = 0</Math>, <Math>r \in \{1,3\}</Math>, <Math>t=5</Math>, and <Math>\lambda \geq 4</Math>, then <Math>\mathfrak{A} = \langle\alpha\rangle \times \langle-1\rangle</Math> with <Math>\alpha = (2,3 \mod{4})</Math> of order <Math>2^{\lambda-2}</Math>. Here <Math>\omega = -\alpha^2</Math> when <Math>\lambda = 4</Math> and <Math>\omega = \alpha</Math> otherwise.</Item>
        <Item>If <Math>\sigma = 0</Math>, <Math>r = 1</Math>, <Math>t \in \{3,7\}</Math>, and <Math>\lambda = 3</Math>, then <Math>\mathfrak{A} = \langle-1\rangle</Math>. Here <Math>\omega = -1</Math>.</Item>
        <Item>If <Math>\sigma = 0</Math>, <Math>r = 1</Math>, <Math>t \in \{3,7\}</Math>, and <Math>\lambda \geq 4</Math>, then <Math>\mathfrak{A} = \langle\alpha\rangle \times \langle-1\rangle</Math> with <Math>\alpha = (1 \mod{4},4)</Math> of order <Math>2^{\lambda-3}</Math>.</Item>
        <Item>If <Math>\sigma = 1</Math>, then <Math>\mathfrak{A} = \langle\alpha\rangle \times \langle-1\rangle</Math> with <Math>\alpha = (1 \mod{4},2)</Math> of order <Math>2^{\lambda-3}</Math>.</Item>
        <Item>If <Math>\sigma = 2</Math>, then <Math>\mathfrak{A} = \langle\alpha\rangle \times \langle-1\rangle</Math> with <Math>\alpha = (1 \mod{4},2)</Math> of order <Math>2^{\lambda-4}</Math>.</Item>
        <Item>If <Math>\sigma \geq 3</Math>, then <Math>\mathfrak{A} = \langle\alpha\rangle \times \langle-1\rangle</Math> with <Math>\alpha = (1 \mod{4},1)</Math> of order <Math>2^{\lambda-\sigma-1}</Math>.</Item>
    </List>
    </Item>
</List>
</Subsection>


</Section>


</Chapter>

